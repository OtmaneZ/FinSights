# ═══════════════════════════════════════════════════════════════════════════════
# TRESORIS V3 - Environment Configuration Complete
# ═══════════════════════════════════════════════════════════════════════════════
# Copy this file to .env and fill in your actual values

# ═══════════════════════════════════════════════════════════════════════════════
# GOOGLE SHEETS CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

# Google Sheet ID (from sheet URL)
SPREADSHEET_ID=

# Polling interval in seconds
POLL_INTERVAL=30

# Sheet tab names
SHEET_NAME_FACTURES=Factures
SHEET_NAME_ENCAISSEMENTS=Encaissements

# Enable auto polling
AUTO_POLLING_ENABLED=true
DEBUG_MODE=false

# ═══════════════════════════════════════════════════════════════════════════════
# GOOGLE APIs CREDENTIALS (Authentication)
# ═══════════════════════════════════════════════════════════════════════════════

# Service Account JSON - Path to credentials file
# Download from: https://console.cloud.google.com/iam-admin/serviceaccounts
GOOGLE_SERVICE_ACCOUNT_JSON=/path/to/service-account-key.json

# ═══════════════════════════════════════════════════════════════════════════════
# GOOGLE DOCS API (Report Generation)
# ═══════════════════════════════════════════════════════════════════════════════

# Google Docs API Key (optional if using service account)
GOOGLE_DOCS_API_KEY=

# Document template IDs (to use existing templates)
GOOGLE_DOCS_TEMPLATE_CASH_FLOW=
GOOGLE_DOCS_TEMPLATE_MARGIN_ANALYSIS=
GOOGLE_DOCS_TEMPLATE_RISK_SUMMARY=

# Report output folder in Google Drive
GOOGLE_DRIVE_REPORT_FOLDER_ID=

# ═══════════════════════════════════════════════════════════════════════════════
# GMAIL API (Alert Notifications)
# ═══════════════════════════════════════════════════════════════════════════════

# Gmail API Key (optional if using service account)
GMAIL_API_KEY=

# Email sender for alerts
GMAIL_FROM_EMAIL=noreply@tresoris.ai

# DAF recipients for critical alerts (comma-separated)
GMAIL_DAF_RECIPIENTS=daf1@company.com,daf2@company.com

# Default alert recipients
GMAIL_DEFAULT_RECIPIENTS=

# SMTP Configuration (alternative to Gmail API)
SMTP_ENABLED=false
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=true

# ═══════════════════════════════════════════════════════════════════════════════
# GOOGLE CALENDAR API (Calendar Integration)
# ═══════════════════════════════════════════════════════════════════════════════

# Google Calendar API Key (optional if using service account)
GOOGLE_CALENDAR_API_KEY=

# Calendar ID (use "primary" for default calendar)
GOOGLE_CALENDAR_ID=primary

# ═══════════════════════════════════════════════════════════════════════════════
# APPLICATION CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

# API Server
PORT=8000
HOST=0.0.0.0
ENVIRONMENT=development

# CORS Configuration
CORS_ORIGINS=*
CORS_CREDENTIALS=true
CORS_METHODS=*
CORS_HEADERS=*

# API Authentication
API_KEY_REQUIRED=false
API_KEY_HEADER=X-API-Key

# ═══════════════════════════════════════════════════════════════════════════════
# TRESORIS AGENT CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

# Agent mode
AGENT_MODE=autonomous
AGENT_AUTO_START=true

# Thresholds for alerts
CASH_RUNWAY_WARNING_DAYS=30
CASH_RUNWAY_CRITICAL_DAYS=15
DSO_WARNING_THRESHOLD=45
DSO_CRITICAL_THRESHOLD=60
DEFAULT_PAYMENT_DAYS=30

# Risk scoring
CLIENT_RISK_WEIGHT_PAYMENT_BEHAVIOR=0.40
CLIENT_RISK_WEIGHT_TREND=0.25
CLIENT_RISK_WEIGHT_STABILITY=0.20
CLIENT_RISK_WEIGHT_AMOUNT=0.15

# ═══════════════════════════════════════════════════════════════════════════════
# EXTERNAL SERVICES (Optional)
# ═══════════════════════════════════════════════════════════════════════════════

# OpenAI (for AI features)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4

# Sentry (Error tracking)
SENTRY_DSN=

# Database (if using PostgreSQL instead of in-memory)
DATABASE_URL=
